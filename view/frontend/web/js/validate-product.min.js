define("jquery Magento_Customer/js/customer-data mage/mage Magento_Catalog/product/view/validation catalogAddToCart mage/translate".split(" "),function(c,g){c.widget("mage.productValidate",{options:{bindSubmit:!1,radioCheckboxClosest:".nested",addToCartButtonSelector:".action.tocart"},_create:function(){var e=this.options.bindSubmit;this.element.validation({radioCheckboxClosest:this.options.radioCheckboxClosest,submitHandler:function(f){if("undefined"===typeof cbrequire){var b=c(f).catalogAddToCart({bindSubmit:e});
b.catalogAddToCart("submitForm",b)}else cbrequire(["configbox/server","configbox/configurator"],function(b,d){d={cartPositionId:d.getCartPositionId()};b.makeRequest("configuratorpage","getMissingSelections",d).done(function(a){if(0===a.length)a=c(f).catalogAddToCart({bindSubmit:e}),a.catalogAddToCart("submitForm",a);else{var b=[];a.forEach(function(a){b.push(a.title)});a="Before finishing the configuration you have to make a choice for these required elements: "+b.join(", ");g.set("messages",{messages:[{type:"error",
text:c.mage.__(a)}]})}})});return!1}});c(this.options.addToCartButtonSelector).attr("disabled",!1)}});return c.mage.productValidate});
